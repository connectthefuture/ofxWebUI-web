(function(q){if(q.DataView){return}if(!q.ArrayBuffer){h("ArrayBuffer not supported")}if(!Object.defineProperties){h("This module requires ECMAScript 5")}var k=new Int8Array(new Int32Array([1]).buffer)[0]===1;var t=new Uint8Array(8);q.DataView=function c(x,z,y){if(!(x instanceof ArrayBuffer)){h("Bad ArrayBuffer")}z=z||0;y=y||(x.byteLength-z);if(z<0||y<0||z+y>x.byteLength){h("Illegal offset and/or length")}Object.defineProperties(this,{buffer:{value:x,enumerable:false,writable:false,configurable:false},byteOffset:{value:z,enumerable:false,writable:false,configurable:false},byteLength:{value:y,enumerable:false,writable:false,configurable:false},_bytes:{value:new Uint8Array(x,z,y),enumerable:false,writable:false,configurable:false}})};q.DataView.prototype={constructor:c,getInt8:function l(x){return u(this,Int8Array,1,x)},getUint8:function o(x){return u(this,Uint8Array,1,x)},getInt16:function m(y,x){return u(this,Int16Array,2,y,x)},getUint16:function g(y,x){return u(this,Uint16Array,2,y,x)},getInt32:function d(y,x){return u(this,Int32Array,4,y,x)},getUint32:function v(y,x){return u(this,Uint32Array,4,y,x)},getFloat32:function s(y,x){return u(this,Float32Array,4,y,x)},getFloat64:function s(y,x){return u(this,Float64Array,8,y,x)},setInt8:function a(y,x){p(this,Int8Array,1,y,x)},setUint8:function n(y,x){p(this,Uint8Array,1,y,x)},setInt16:function j(z,y,x){p(this,Int16Array,2,z,y,x)},setUint16:function w(z,y,x){p(this,Uint16Array,2,z,y,x)},setInt32:function b(z,y,x){p(this,Int32Array,4,z,y,x)},setUint32:function r(z,y,x){p(this,Uint32Array,4,z,y,x)},setFloat32:function f(z,y,x){p(this,Float32Array,4,z,y,x)},setFloat64:function e(z,y,x){p(this,Float64Array,8,z,y,x)}};function u(x,B,A,C,z){if(C===undefined){h("Missing required offset argument")}if(C<0||C+A>x.byteLength){h("Invalid index: "+C)}if(A===1||!!z===k){if((x.byteOffset+C)%A===0){return(new B(x.buffer,x.byteOffset+C,1))[0]}else{for(var y=0;y<A;y++){t[y]=x._bytes[C+y]}return(new B(t.buffer))[0]}}else{for(var y=0;y<A;y++){t[A-y-1]=x._bytes[C+y]}return(new B(t.buffer))[0]}}function p(x,B,A,D,C,z){if(D===undefined){h("Missing required offset argument")}if(C===undefined){h("Missing required value argument")}if(D<0||D+A>x.byteLength){h("Invalid index: "+D)}if(A===1||!!z===k){if((x.byteOffset+D)%A===0){(new B(x.buffer,x.byteOffset+D,1))[0]=C}else{(new B(t.buffer))[0]=C;for(var y=0;y<A;y++){x._bytes[y+D]=t[y]}}}else{(new B(t.buffer))[0]=C;for(var y=0;y<A;y++){x._bytes[D+y]=t[A-1-y]}}}function h(x){throw new Error(x)}}(this));var swfobject=function(){var ar="undefined",aE="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aF="application/x-shockwave-flash",ac="SWFObjectExprInst",ay="onreadystatechange",af=window,aM=document,aC=navigator,aa=false,Z=[aO],aH=[],ag=[],al=[],aK,ad,aq,au,ak=false,aV=false,aI,ao,aJ=true,ah=function(){var a=typeof aM.getElementById!=ar&&typeof aM.getElementsByTagName!=ar&&typeof aM.createElement!=ar,e=aC.userAgent.toLowerCase(),c=aC.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(e),k=c?/mac/.test(c):/mac/.test(e),g=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",f=[0,0,0],l=null;if(typeof aC.plugins!=ar&&typeof aC.plugins[ab]==aE){l=aC.plugins[ab].description;if(l&&!(typeof aC.mimeTypes!=ar&&aC.mimeTypes[aF]&&!aC.mimeTypes[aF].enabledPlugin)){aa=true;d=false;l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof af.ActiveXObject!=ar){try{var j=new ActiveXObject(X);if(j){l=j.GetVariable("$version");if(l){d=true;l=l.split(" ")[1].split(",");f=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]}}}catch(b){}}}return{w3:a,pv:f,wk:g,ie:d,win:h,mac:k}}(),aL=function(){if(!ah.w3){return}if((typeof aM.readyState!=ar&&aM.readyState=="complete")||(typeof aM.readyState==ar&&(aM.getElementsByTagName("body")[0]||aM.body))){aQ()}if(!ak){if(typeof aM.addEventListener!=ar){aM.addEventListener("DOMContentLoaded",aQ,false)}if(ah.ie&&ah.win){aM.attachEvent(ay,function(){if(aM.readyState=="complete"){aM.detachEvent(ay,arguments.callee);aQ()}});if(af==top){(function(){if(ak){return}try{aM.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}aQ()})()}}if(ah.wk){(function(){if(ak){return}if(!/loaded|complete/.test(aM.readyState)){setTimeout(arguments.callee,0);return}aQ()})()}aD(aQ)}}();function aQ(){if(ak){return}try{var b=aM.getElementsByTagName("body")[0].appendChild(at("span"));b.parentNode.removeChild(b)}catch(a){return}ak=true;var d=Z.length;for(var c=0;c<d;c++){Z[c]()}}function aj(a){if(ak){a()}else{Z[Z.length]=a}}function aD(a){if(typeof af.addEventListener!=ar){af.addEventListener("load",a,false)}else{if(typeof aM.addEventListener!=ar){aM.addEventListener("load",a,false)}else{if(typeof af.attachEvent!=ar){aN(af,"onload",a)}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a()}}else{af.onload=a}}}}}function aO(){if(aa){Y()}else{an()}}function Y(){var d=aM.getElementsByTagName("body")[0];var b=at(aE);b.setAttribute("type",aF);var a=d.appendChild(b);if(a){var c=0;(function(){if(typeof a.GetVariable!=ar){var e=a.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ah.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}}else{if(c<10){c++;setTimeout(arguments.callee,10);return}}d.removeChild(b);a=null;an()})()}else{an()}}function an(){var g=aH.length;if(g>0){for(var h=0;h<g;h++){var c=aH[h].id;var m=aH[h].callbackFn;var a={success:false,id:c};if(ah.pv[0]>0){var j=aT(c);if(j){if(ap(aH[h].swfVersion)&&!(ah.wk&&ah.wk<312)){az(c,true);if(m){a.success=true;a.ref=aw(c);m(a)}}else{if(aH[h].expressInstall&&av()){var e={};e.data=aH[h].expressInstall;e.width=j.getAttribute("width")||"0";e.height=j.getAttribute("height")||"0";if(j.getAttribute("class")){e.styleclass=j.getAttribute("class")}if(j.getAttribute("align")){e.align=j.getAttribute("align")}var f={};var d=j.getElementsByTagName("param");var l=d.length;for(var k=0;k<l;k++){if(d[k].getAttribute("name").toLowerCase()!="movie"){f[d[k].getAttribute("name")]=d[k].getAttribute("value")}}ae(e,f,c,m)}else{aG(j);if(m){m(a)}}}}}else{az(c,true);if(m){var b=aw(c);if(b&&typeof b.SetVariable!=ar){a.success=true;a.ref=b}m(a)}}}}}function aw(b){var d=null;var c=aT(b);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=ar){d=c}else{var a=c.getElementsByTagName(aE)[0];if(a){d=a}}}return d}function av(){return !aV&&ap("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312)}function ae(f,d,h,e){aV=true;aq=e||null;au={success:false,id:h};var a=aT(h);if(a){if(a.nodeName=="OBJECT"){aK=aP(a);ad=null}else{aK=a;ad=h}f.id=ac;if(typeof f.width==ar||(!/%$/.test(f.width)&&parseInt(f.width,10)<310)){f.width="310"}if(typeof f.height==ar||(!/%$/.test(f.height)&&parseInt(f.height,10)<137)){f.height="137"}aM.title=aM.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aM.title;if(typeof d.flashvars!=ar){d.flashvars+="&"+c}else{d.flashvars=c}if(ah.ie&&ah.win&&a.readyState!=4){var g=at("div");h+="SWFObjectNew";g.setAttribute("id",h);a.parentNode.insertBefore(g,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}aB(f,d,h)}}function aG(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=at("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aP(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.replaceChild(aP(a),a)}}function aP(b){var d=at("div");if(ah.win&&ah.ie){d.innerHTML=b.innerHTML}else{var e=b.getElementsByTagName(aE)[0];if(e){var a=e.childNodes;if(a){var f=a.length;for(var c=0;c<f;c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true))}}}}}return d}function aB(e,g,c){var d,a=aT(c);if(ah.wk&&ah.wk<312){return d}if(a){if(typeof e.id==ar){e.id=c}if(ah.ie&&ah.win){var f="";for(var j in e){if(e[j]!=Object.prototype[j]){if(j.toLowerCase()=="data"){g.movie=e[j]}else{if(j.toLowerCase()=="styleclass"){f+=' class="'+e[j]+'"'}else{if(j.toLowerCase()!="classid"){f+=" "+j+'="'+e[j]+'"'}}}}}var h="";for(var k in g){if(g[k]!=Object.prototype[k]){h+='<param name="'+k+'" value="'+g[k]+'" />'}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";ag[ag.length]=e.id;d=aT(e.id)}else{var b=at(aE);b.setAttribute("type",aF);for(var l in e){if(e[l]!=Object.prototype[l]){if(l.toLowerCase()=="styleclass"){b.setAttribute("class",e[l])}else{if(l.toLowerCase()!="classid"){b.setAttribute(l,e[l])}}}}for(var m in g){if(g[m]!=Object.prototype[m]&&m.toLowerCase()!="movie"){aR(b,m,g[m])}}a.parentNode.replaceChild(b,a);d=b}}return d}function aR(b,d,c){var a=at("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a)}function ax(a){var b=aT(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aU(a)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.removeChild(b)}}}function aU(a){var b=aT(a);if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null}}b.parentNode.removeChild(b)}}function aT(a){var c=null;try{c=aM.getElementById(a)}catch(b){}return c}function at(a){return aM.createElement(a)}function aN(a,c,b){a.attachEvent(c,b);al[al.length]=[a,c,b]}function ap(a){var b=ah.pv,c=a.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false}function aA(b,f,a,c){if(ah.ie&&ah.mac){return}var e=aM.getElementsByTagName("head")[0];if(!e){return}var g=(a&&typeof a=="string")?a:"screen";if(c){aI=null;ao=null}if(!aI||ao!=g){var d=at("style");d.setAttribute("type","text/css");d.setAttribute("media",g);aI=e.appendChild(d);if(ah.ie&&ah.win&&typeof aM.styleSheets!=ar&&aM.styleSheets.length>0){aI=aM.styleSheets[aM.styleSheets.length-1]}ao=g}if(ah.ie&&ah.win){if(aI&&typeof aI.addRule==aE){aI.addRule(b,f)}}else{if(aI&&typeof aM.createTextNode!=ar){aI.appendChild(aM.createTextNode(b+" {"+f+"}"))}}}function az(a,c){if(!aJ){return}var b=c?"visible":"hidden";if(ak&&aT(a)){aT(a).style.visibility=b}else{aA("#"+a,"visibility:"+b)}}function ai(b){var a=/[\\\"<>\.;]/;var c=a.exec(b)!=null;return c&&typeof encodeURIComponent!=ar?encodeURIComponent(b):b}var aS=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2])}var d=ag.length;for(var c=0;c<d;c++){ax(ag[c])}for(var e in ah){ah[e]=null}ah=null;for(var f in swfobject){swfobject[f]=null}swfobject=null})}}();return{registerObject:function(a,e,c,b){if(ah.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=c;d.callbackFn=b;aH[aH.length]=d;az(a,false)}else{if(b){b({success:false,id:a})}}},getObjectById:function(a){if(ah.w3){return aw(a)}},embedSWF:function(l,e,h,f,c,a,b,j,g,k){var d={success:false,id:e};if(ah.w3&&!(ah.wk&&ah.wk<312)&&l&&e&&h&&f&&c){az(e,false);aj(function(){h+="";f+="";var r={};if(g&&typeof g===aE){for(var p in g){r[p]=g[p]}}r.data=l;r.width=h;r.height=f;var o={};if(j&&typeof j===aE){for(var q in j){o[q]=j[q]}}if(b&&typeof b===aE){for(var m in b){if(typeof o.flashvars!=ar){o.flashvars+="&"+m+"="+b[m]}else{o.flashvars=m+"="+b[m]}}}if(ap(c)){var n=aB(r,o,e);if(r.id==e){az(e,true)}d.success=true;d.ref=n}else{if(a&&av()){r.data=a;ae(r,o,e,k);return}else{az(e,true)}}if(k){k(d)}})}else{if(k){k(d)}}},switchOffAutoHideShow:function(){aJ=false},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]}},hasFlashPlayerVersion:ap,createSWF:function(a,b,c){if(ah.w3){return aB(a,b,c)}else{return undefined}},showExpressInstall:function(b,a,d,c){if(ah.w3&&av()){ae(b,a,d,c)}},removeSWF:function(a){if(ah.w3){ax(a)}},createCSS:function(b,a,c,d){if(ah.w3){aA(b,a,c,d)}},addDomLoadEvent:aj,addLoadEvent:aD,getQueryParamValue:function(b){var a=aM.location.search||aM.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1]}if(b==null){return ai(a)}var c=a.split("&");for(var d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(aV){var a=aT(ac);if(a&&aK){a.parentNode.replaceChild(aK,a);if(ad){az(ad,true);if(ah.ie&&ah.win){aK.style.display="block"}}if(aq){aq(au)}}aV=false}}}}();(function(){if(window.WEB_SOCKET_FORCE_FLASH){}else{if(window.WebSocket){return}else{if(window.MozWebSocket){window.WebSocket=MozWebSocket;return}}}var a;if(window.WEB_SOCKET_LOGGER){a=WEB_SOCKET_LOGGER}else{if(window.console&&window.console.log&&window.console.error){a=window.console}else{a={log:function(){},error:function(){}}}}if(swfobject.getFlashPlayerVersion().major<10){a.error("Flash Player >= 10.0.0 is required.");return}if(location.protocol=="file:"){a.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://...")}window.WebSocket=function(d,e,c,g,f){var b=this;b.__id=WebSocket.__nextId++;WebSocket.__instances[b.__id]=b;b.readyState=WebSocket.CONNECTING;b.bufferedAmount=0;b.__events={};if(!e){e=[]}else{if(typeof e=="string"){e=[e]}}b.__createTask=setTimeout(function(){WebSocket.__addTask(function(){b.__createTask=null;WebSocket.__flash.create(b.__id,d,e,c||null,g||0,f||null)})},0)};WebSocket.prototype.send=function(c){if(this.readyState==WebSocket.CONNECTING){throw"INVALID_STATE_ERR: Web Socket connection has not been established"}var b=WebSocket.__flash.send(this.__id,encodeURIComponent(c));if(b<0){return true}else{this.bufferedAmount+=b;return false}};WebSocket.prototype.close=function(){if(this.__createTask){clearTimeout(this.__createTask);this.__createTask=null;this.readyState=WebSocket.CLOSED;return}if(this.readyState==WebSocket.CLOSED||this.readyState==WebSocket.CLOSING){return}this.readyState=WebSocket.CLOSING;WebSocket.__flash.close(this.__id)};WebSocket.prototype.addEventListener=function(c,d,b){if(!(c in this.__events)){this.__events[c]=[]}this.__events[c].push(d)};WebSocket.prototype.removeEventListener=function(e,f,b){if(!(e in this.__events)){return}var d=this.__events[e];for(var c=d.length-1;c>=0;--c){if(d[c]===f){d.splice(c,1);break}}};WebSocket.prototype.dispatchEvent=function(e){var c=this.__events[e.type]||[];for(var b=0;b<c.length;++b){c[b](e)}var d=this["on"+e.type];if(d){d.apply(this,[e])}};WebSocket.prototype.__handleEvent=function(d){if("readyState" in d){this.readyState=d.readyState}if("protocol" in d){this.protocol=d.protocol}var b;if(d.type=="open"||d.type=="error"){b=this.__createSimpleEvent(d.type)}else{if(d.type=="close"){b=this.__createSimpleEvent("close");b.wasClean=d.wasClean?true:false;b.code=d.code;b.reason=d.reason}else{if(d.type=="message"){var c=decodeURIComponent(d.message);b=this.__createMessageEvent("message",c)}else{throw"unknown event type: "+d.type}}}this.dispatchEvent(b)};WebSocket.prototype.__createSimpleEvent=function(b){if(document.createEvent&&window.Event){var c=document.createEvent("Event");c.initEvent(b,false,false);return c}else{return{type:b,bubbles:false,cancelable:false}}};WebSocket.prototype.__createMessageEvent=function(b,d){if(document.createEvent&&window.MessageEvent&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",false,false,d,null,null,window,null);return c}else{return{type:b,data:d,bubbles:false,cancelable:false}}};WebSocket.CONNECTING=0;WebSocket.OPEN=1;WebSocket.CLOSING=2;WebSocket.CLOSED=3;WebSocket.__isFlashImplementation=true;WebSocket.__initialized=false;WebSocket.__flash=null;WebSocket.__instances={};WebSocket.__tasks=[];WebSocket.__nextId=0;WebSocket.loadFlashPolicyFile=function(b){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(b)})};WebSocket.__initialize=function(){if(WebSocket.__initialized){return}WebSocket.__initialized=true;if(WebSocket.__swfLocation){window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation}if(!window.WEB_SOCKET_SWF_LOCATION){a.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");return}if(!window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR&&!WEB_SOCKET_SWF_LOCATION.match(/(^|\/)WebSocketMainInsecure\.swf(\?.*)?$/)&&WEB_SOCKET_SWF_LOCATION.match(/^\w+:\/\/([^\/]+)/)){var d=RegExp.$1;if(location.host!=d){a.error("[WebSocket] You must host HTML and WebSocketMain.swf in the same host ('"+location.host+"' != '"+d+"'). See also 'How to host HTML file and SWF file in different domains' section in README.md. If you use WebSocketMainInsecure.swf, you can suppress this message by WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR = true;")}}var b=document.createElement("div");b.id="webSocketContainer";b.style.position="absolute";if(WebSocket.__isFlashLite()){b.style.left="0px";b.style.top="0px"}else{b.style.left="-100px";b.style.top="-100px"}var c=document.createElement("div");c.id="webSocketFlash";b.appendChild(c);document.body.appendChild(b);swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:true,swliveconnect:true,allowScriptAccess:"always"},null,function(f){if(!f.success){a.error("[WebSocket] swfobject.embedSWF failed")}})};WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var b=0;b<WebSocket.__tasks.length;++b){WebSocket.__tasks[b]()}WebSocket.__tasks=[]},0)};WebSocket.__onFlashEvent=function(){setTimeout(function(){try{var c=WebSocket.__flash.receiveEvents();for(var b=0;b<c.length;++b){WebSocket.__instances[c[b].webSocketId].__handleEvent(c[b])}}catch(d){a.error(d)}},0);return true};WebSocket.__log=function(b){a.log(decodeURIComponent(b))};WebSocket.__error=function(b){a.error(decodeURIComponent(b))};WebSocket.__addTask=function(b){if(WebSocket.__flash){b()}else{WebSocket.__tasks.push(b)}};WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes){return false}var b=window.navigator.mimeTypes["application/x-shockwave-flash"];if(!b||!b.enabledPlugin||!b.enabledPlugin.filename){return false}return b.enabledPlugin.filename.match(/flashlite/i)?true:false};if(!window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION){swfobject.addDomLoadEvent(function(){WebSocket.__initialize()})}})();(function(b){var a=false;b.fn.farbtastic=function(c){b.farbtastic(this,c);return this};b.farbtastic=function(c,d){var c=b(c)[0];return c.farbtastic||(c.farbtastic=new b._farbtastic(c,d))};b._farbtastic=function(c,d){var e=this;e.linkTo=function(f){if(typeof e.callback=="object"){b(e.callback).unbind("keyup",e.updateValue)}e.color=null;if(typeof f=="function"){e.callback=f}else{if(typeof f=="object"||typeof f=="string"){e.callback=b(f);e.callback.bind("keyup",e.updateValue);if(e.callback[0].value){e.setColor(e.callback[0].value)}}}return this};e.updateValue=function(f){if(this.value&&this.value!=e.color){e.setColor(this.value)}};e.setColor=function(f){var g=e.unpack(f);if(e.color!=f&&g){e.color=f;e.rgb=g;e.hsl=e.RGBToHSL(e.rgb);e.updateDisplay()}return this};e.setHSL=function(f){e.hsl=f;e.rgb=e.HSLToRGB(f);e.color=e.pack(e.rgb);e.updateDisplay();return this};e.initWidget=function(){var f={width:d.width,height:d.width};b(c).html('<div class="farbtastic" style="position: relative"><div class="farbtastic-solid"></div><canvas class="farbtastic-mask"></canvas><canvas class="farbtastic-overlay"></canvas></div>').find("*").attr(f).css(f).end().find("div>*").css("position","absolute");b.browser.msie&&b("canvas",c).each(function(){var g={"class":b(this).attr("class"),style:this.getAttribute("style")},h=document.createElement("canvas");b(this).before(b(h).attr(g)).remove();G_vmlCanvasManager&&G_vmlCanvasManager.initElement(h);b(h).attr(f).css(f).css("position","absolute").find("*").attr(f).css(f)});e.radius=(d.width-d.wheelWidth)/2-1;e.square=Math.floor((e.radius-d.wheelWidth/2)*0.7)-1;e.mid=Math.floor(d.width/2);e.markerSize=d.wheelWidth*0.3;e.solidFill=b(".farbtastic-solid",c).css({width:e.square*2-1,height:e.square*2-1,left:e.mid-e.square,top:e.mid-e.square});e.cnvMask=b(".farbtastic-mask",c);e.ctxMask=e.cnvMask[0].getContext("2d");e.cnvOverlay=b(".farbtastic-overlay",c);e.ctxOverlay=e.cnvOverlay[0].getContext("2d");e.ctxMask.translate(e.mid,e.mid);e.ctxOverlay.translate(e.mid,e.mid);e.drawCircle();e.drawMask()};e.drawCircle=function(){var j=+(new Date());var s=24,q=e.radius,l=d.wheelWidth,p=8/q/s*Math.PI,t=e.ctxMask,g=0,z,B;t.save();t.lineWidth=l/q;t.scale(q,q);for(var v=0;v<=s;++v){var A=v/s,f=A*Math.PI*2,y=Math.sin(g),h=-Math.cos(g);x2=Math.sin(f),y2=-Math.cos(f),am=(g+f)/2,tan=1/Math.cos((f-g)/2),xm=Math.sin(am)*tan,ym=-Math.cos(am)*tan,color2=e.pack(e.HSLToRGB([A,1,0.5]));if(v>0){if(b.browser.msie){var o=(1+Math.min(Math.abs(Math.tan(g)),Math.abs(Math.tan(Math.PI/2-g))))/s;z=e.pack(e.HSLToRGB([B-0.15*o,1,0.5]));color2=e.pack(e.HSLToRGB([A+0.15*o,1,0.5]));var k=t.createLinearGradient(y,h,x2,y2);k.addColorStop(0,z);k.addColorStop(1,color2);t.fillStyle=k;var x=(q+l/2)/q,u=(q-l/2)/q;t.beginPath();t.moveTo(y*x,h*x);t.quadraticCurveTo(xm*x,ym*x,x2*x,y2*x);t.lineTo(x2*u,y2*u);t.quadraticCurveTo(xm*u,ym*u,y*u,h*u);t.fill()}else{var k=t.createLinearGradient(y,h,x2,y2);k.addColorStop(0,z);k.addColorStop(1,color2);t.strokeStyle=k;t.beginPath();t.moveTo(y,h);t.quadraticCurveTo(xm,ym,x2,y2);t.stroke()}}g=f-p;z=color2;B=A}t.restore()};e.drawMask=function(){var p=+(new Date());var s=e.square*2,h=e.square;function g(D,B,t){var w=1/D,v=1/B;for(var A=0;A<=B;++A){var u=1-A*v;for(var E=0;E<=D;++E){var F=1-E*w;var C=1-2*Math.min(u*F,(1-u)*F);var z=(C>0)?((2*u-1+C)*0.5/C):0;t(E,A,z,C)}}}if(e.ctxMask.getImageData){var m=Math.floor(s/2);var k=document.createElement("canvas");k.width=k.height=m+1;var q=k.getContext("2d");var j=q.getImageData(0,0,m+1,m+1);var l=0;g(m,m,function(t,w,v,u){j.data[l++]=j.data[l++]=j.data[l++]=v*255;j.data[l++]=u*255});q.putImageData(j,0,0);e.ctxMask.drawImage(k,0,0,m+1,m+1,-h,-h,h*2,h*2)}else{if(!b.browser.msie){var m=Math.floor(s/2);g(m,m,function(t,w,v,u){v=Math.round(v*255);e.ctxMask.fillStyle="rgba("+v+", "+v+", "+v+", "+u+")";e.ctxMask.fillRect(t*2-h-1,w*2-h-1,2,2)})}else{var r,f,o=6;var n=Math.floor(s/o);g(n,6,function(B,w,u,A){if(B==0){r=f;f=[]}u=Math.round(u*255);A=Math.round(A*255);if(w>0){var E=r[B][0],t=r[B][1],D=e.packDX(E,t),C=e.packDX(u,A),z=Math.round(e.mid+((w-1)*0.333-1)*h),v=Math.round(e.mid+(w*0.333-1)*h);b("<div>").css({position:"absolute",filter:"progid:DXImageTransform.Microsoft.Gradient(StartColorStr="+D+", EndColorStr="+C+", GradientType=0)",top:z,height:v-z,left:e.mid+(B*o-h-1),width:o-(B==n?Math.round(o/2):0)}).appendTo(e.cnvMask)}f.push([u,A])})}}};e.drawMarkers=function(){var p=d.width,j=Math.ceil(e.markerSize/4),f=e.markerSize-j+1;var k=e.hsl[0]*6.28,h=Math.sin(k)*e.radius,s=-Math.cos(k)*e.radius,g=2*e.square*(0.5-e.hsl[1]),q=2*e.square*(0.5-e.hsl[2]),m=e.invert?"#fff":"#000",l=e.invert?"#000":"#fff";var n=[{x:h,y:s,r:f,c:"#000",lw:j+1},{x:h,y:s,r:e.markerSize,c:"#fff",lw:j},{x:g,y:q,r:f,c:l,lw:j+1},{x:g,y:q,r:e.markerSize,c:m,lw:j}];e.ctxOverlay.clearRect(-e.mid,-e.mid,p,p);for(i in n){var o=n[i];e.ctxOverlay.lineWidth=o.lw;e.ctxOverlay.strokeStyle=o.c;e.ctxOverlay.beginPath();e.ctxOverlay.arc(o.x,o.y,o.r,0,Math.PI*2,true);e.ctxOverlay.stroke()}};e.updateDisplay=function(){e.invert=(e.rgb[0]*0.3+e.rgb[1]*0.59+e.rgb[2]*0.11)<=0.6;e.solidFill.css("backgroundColor",e.pack(e.HSLToRGB([e.hsl[0],1,0.5])));e.drawMarkers();if(typeof e.callback=="object"){b(e.callback).css({backgroundColor:e.color,color:e.invert?"#fff":"#000"});b(e.callback).each(function(){if((typeof this.value=="string")&&this.value!=e.color){this.value=e.color;b(this).trigger("change")}})}else{if(typeof e.callback=="function"){e.callback.call(e,e.color)}}};e.widgetCoords=function(f){return{x:f.pageX-e.offset.left-e.mid,y:f.pageY-e.offset.top-e.mid}};e.mousedown=function(f){if(!b._farbtastic.dragging){b(document).bind("mousemove",e.mousemove).bind("mouseup",e.mouseup);b._farbtastic.dragging=true}e.offset=b(c).offset();var g=e.widgetCoords(f);e.circleDrag=Math.max(Math.abs(g.x),Math.abs(g.y))>(e.square+2);e.mousemove(f);return false};e.mousemove=function(j){var k=e.widgetCoords(j);if(e.circleDrag){var h=Math.atan2(k.x,-k.y)/6.28;e.setHSL([(h+1)%1,e.hsl[1],e.hsl[2]])}else{var g=Math.max(0,Math.min(1,-(k.x/e.square/2)+0.5));var f=Math.max(0,Math.min(1,-(k.y/e.square/2)+0.5));e.setHSL([e.hsl[0],g,f])}return false};e.mouseup=function(){b(document).unbind("mousemove",e.mousemove);b(document).unbind("mouseup",e.mouseup);b._farbtastic.dragging=false};e.dec2hex=function(f){return(f<16?"0":"")+f.toString(16)};e.packDX=function(g,f){return"#"+e.dec2hex(f)+e.dec2hex(g)+e.dec2hex(g)+e.dec2hex(g)};e.pack=function(h){var k=Math.round(h[0]*255);var j=Math.round(h[1]*255);var f=Math.round(h[2]*255);return"#"+e.dec2hex(k)+e.dec2hex(j)+e.dec2hex(f)};e.unpack=function(g){if(g.length==7){function f(h){return parseInt(g.substring(h,h+2),16)/255}return[f(1),f(3),f(5)]}else{if(g.length==4){function f(h){return parseInt(g.substring(h,h+1),16)/15}return[f(1),f(2),f(3)]}}};e.HSLToRGB=function(o){var q,p,f,m,n;var k=o[0],t=o[1],j=o[2];p=(j<=0.5)?j*(t+1):j+t-j*t;q=j*2-p;return[this.hueToRGB(q,p,k+0.33333),this.hueToRGB(q,p,k),this.hueToRGB(q,p,k-0.33333)]};e.hueToRGB=function(g,f,j){j=(j+1)%1;if(j*6<1){return g+(f-g)*j*6}if(j*2<1){return f}if(j*3<2){return g+(f-g)*(0.66666-j)*6}return g};e.RGBToHSL=function(o){var f=o[0],n=o[1],p=o[2],k=Math.min(f,n,p),q=Math.max(f,n,p),t=q-k,m=0,u=0,j=(k+q)/2;if(j>0&&j<1){u=t/(j<0.5?(2*j):(2-2*j))}if(t>0){if(q==f&&q!=n){m+=(n-p)/t}if(q==n&&q!=p){m+=(2+(p-f)/t)}if(q==p&&q!=f){m+=(4+(f-n)/t)}m/=6}return[m,u,j]};b.extend(b.support,{touch:typeof Touch=="object"});e.touchHandle=function(h){var k=h.originalEvent.changedTouches,j=k[0],f="";switch(h.type){case"touchstart":f="mousedown";break;case"touchmove":f="mousemove";break;case"touchend":f="mouseup";break;default:return}var g=document.createEvent("MouseEvent");g.initMouseEvent(f,true,true,window,1,j.screenX,j.screenY,j.clientX,j.clientY,false,false,false,false,0,null);j.target.dispatchEvent(g);h.preventDefault()};if(!d.callback){d={callback:d}}d=b.extend({width:300,wheelWidth:(d.width||300)/10,callback:null},d);e.initWidget();b("canvas.farbtastic-overlay",c).mousedown(e.mousedown);if(b.support.touch){b("canvas.farbtastic-overlay",c).bind("touchstart touchmove touchend touchcancel",e.touchHandle)}if(d.callback){e.linkTo(d.callback)}e.setColor("#808080")}})(jQuery);"use strict";var PROTO={};PROTO.IsArray=(function(){if(typeof(Uint8Array)!="undefined"){return function(a){return a instanceof Array||a instanceof Uint8Array}}else{return function(a){return a instanceof Array}}})();PROTO.DefineProperty=(function(){var a;if(typeof(Object.defineProperty)!="undefined"){a=function(f,g,e,h){Object.defineProperty(f,g,{get:e,set:h,enumerable:true,configurable:false})}}else{if(Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__){a=function(f,g,e,h){if(typeof e!=="undefined"){f.__defineGetter__(g,e)}if(typeof h!=="undefined"){f.__defineSetter__(g,h)}}}}if(a){try{var d=function(){};a(d.prototype,"x",function(){return this.xval*2},function(e){this.xval=e});var b=new d;b.x=5;if(b.x!=10){PROTO.warn("DefineProperty test gave the wrong result "+b.x);a=undefined}}catch(c){PROTO.warn("DefineProperty should be supported, but threw "+c);a=undefined}}return a})();PROTO.cloneType=function(c){var b={};for(var a in c){b[a]=c[a]}return b};PROTO.wiretypes={varint:0,fixed64:1,lengthdelim:2,fixed32:5};PROTO.optional="optional";PROTO.repeated="repeated";PROTO.required="required";PROTO.warn=function(a){if(typeof(self.console)!="undefined"&&self.console.log){self.console.log(a)}};PROTO.I64=function(b,c,a){this.msw=b;this.lsw=c;if(typeof c===undefined){PROTO.warn("Too few arguments passed to I64 constructor: perhaps you meant PROTO.I64.fromNumber()");throw ("Too few arguments passed to I64 constructor: perhaps you meant PROTO.I64.fromNumber()")}if(a===true){a=-1}if(!a){a=1}this.sign=a};PROTO.I64.prototype={toNumber:function(){return(this.msw*4294967296+this.lsw)*this.sign},toString:function(){function b(e){var f="";for(var g=0;g<e;++g){f+="0"}return f}var d=this.msw.toString(16);var c=this.lsw.toString(16);var a=(this.sign==-1?"-":"");return a+"0x"+b(8-d.length)+d+b(8-c.length)+c},equals:function(a){return this.sign==a.sign&&this.msw==a.msw&&this.lsw==a.lsw},hash:function(){return(this.sign*this.msw)+"_"+this.lsw},convertToUnsigned:function(){var a;a=this.lsw;var b;if(this.sign<0){b=2147483647-this.msw;b+=2147483647;b+=1;a=2147483647-this.lsw;a+=2147483647;a+=2;if(a==4294967296){a=0;b+=1}}else{b=this.msw}return new PROTO.I64(b,a,1)},convertFromUnsigned:function(){if(this.msw>=2147483648){var b=4294967295-this.msw;var a=4294967295-this.lsw+1;if(a>4294967295){a-=4294967296;b+=1}return new PROTO.I64(b,a,-1)}return new PROTO.I64(this.msw,this.lsw,this.sign)},convertToZigzag:function(){var a;if(this.sign<0){a=this.lsw*2-1}else{a=this.lsw*2}var b=this.msw*2;if(a>4294967295){b+=1;a-=4294967296}if(a<0){b-=1;a+=4294967296}return new PROTO.I64(b,a,1)},convertFromZigzag:function(){var a;if(this.msw&1){a=new PROTO.I64((this.msw>>>1),2147483648+(this.lsw>>>1),(this.lsw&1)?-1:1)}else{a=new PROTO.I64((this.msw>>>1),(this.lsw>>>1),(this.lsw&1)?-1:1)}if(a.sign==-1){a.lsw+=1;if(a.lsw>4294967295){a.msw+=1;a.lsw-=4294967296}}return a},serializeToLEBase256:function(){var a=new Array(8);var b=this.lsw;for(var c=0;c<4;c++){a[c]=(b&255);b=(b>>8)}b=this.msw;for(var c=4;c<8;c++){a[c]=(b&255);b=(b>>8)}return a},serializeToLEVar128:function(){var a=new Array(1);var b=this.lsw;for(var c=0;c<4;c++){a[c]=(b&127);b=(b>>>7);if(b==0&&this.msw==0){return a}a[c]+=128}a[4]=(b&15)|((this.msw&7)<<4);b=(this.msw>>>3);if(b==0){return a}a[4]+=128;for(var c=5;c<10;c++){a[c]=(b&127);b=(b>>>7);if(b==0){return a}a[c]+=128}return a},unsigned_add:function(b){var c=this.lsw+b.lsw;var d=this.msw+b.msw;var a=c%4294967296;c-=a;d+=Math.floor(c/4294967296);return new PROTO.I64(d,a,this.sign)},sub:function(b){if(b.sign!=this.sign){return this.unsigned_add(b)}if(b.msw>this.msw||(b.msw==this.msw&&b.lsw>this.lsw)){var c=b.sub(this);c.sign=-this.sign;return c}var a=this.lsw-b.lsw;var d=this.msw-b.msw;if(a<0){a+=4294967296;d-=1}return new PROTO.I64(d,a,this.sign)},less:function(d){if(d.sign!=this.sign){return this.sign<0}var e=this;var c=d;if(this.sign<0){c=this;e=d}if(e.msw==c.msw){return e.lsw<c.lsw}if(e.msw<c.msw){return true}return false},unsigned_less:function(d){var e=this,c=d;if(e.msw==c.msw){return e.lsw<c.lsw}if(e.msw<c.msw){return true}return false},add:function(a){if(a.sign<0&&this.sign>=0){return this.sub(new PROTO.I64(a.msw,a.lsw,-a.sign))}if(a.sign>=0&&this.sign<0){return a.sub(new PROTO.I64(this.msw,this.lsw,-this.sign))}return this.unsigned_add(a)}};PROTO.I64.fromNumber=function(d){var a=(d<0)?-1:1;d*=a;var c=(d%4294967296);var b=Math.floor((d-c)/4294967296);return new PROTO.I64(b,c,a)};PROTO.I64.from32pair=function(b,c,a){return new PROTO.I64(b,c,a)};PROTO.I64.parseLEVar128=function(k,j){var a=j||new PROTO.I64(0,0,1);var c=0;var e=false;var f=1;for(var g=0;!e&&g<5;g++){var b=k.readByte();if(b>=128){b-=128}else{e=true}c+=f*b;f*=128}var d=c%4294967296;var h=Math.floor((c-d)/4294967296);f=8;for(var g=0;!e&&g<5;g++){var b=k.readByte();if(b>=128){b-=128}else{e=true}h+=f*b;f*=128}a.msw=h%4294967296;a.lsw=d;a.sign=1;return a};PROTO.I64.parseLEBase256=function(k,j){var a=j||new PROTO.I64(0,0,1);var c=0;var e=false;var f=1;for(var g=0;g<4;g++){var b=k.readByte();c+=f*b;f*=256}var d=c;var h=0;f=1;for(var g=0;g<4;g++){var b=k.readByte();h+=f*b;f*=256}a.msw=h;a.lsw=d;a.sign=1;return a};PROTO.I64.ONE=new PROTO.I64.fromNumber(1);PROTO.I64.ZERO=new PROTO.I64.fromNumber(0);PROTO.BinaryParser=function(b,a){this.bigEndian=b,this.allowExceptions=a};PROTO.BinaryParser.prototype.encodeFloat=function(a,y,f){var l;var d=Math.pow(2,f-1)-1,c=-d+1,o=d,x=c-y,m=isNaN(l=parseFloat(a))||l==-Infinity||l==+Infinity?l:0,e=0,t=2*d+1+y+3,k=new Array(t),u=(l=m!==0?0:l)<0;l=Math.abs(l);var p=Math.floor(l),b=l-p,s,w,v,q,g,h;for(s=t;s;k[--s]=0){}for(s=d+2;p&&s;k[--s]=p%2,p=Math.floor(p/2)){}for(s=d+1;b>0&&s;(k[++s]=((b*=2)>=1)-0)&&--b){}for(s=-1;++s<t&&!k[s];){}if(k[(w=y-1+(s=(e=d+1-s)>=c&&e<=o?s+1:d+1-(e=c-1)))+1]){if(!(v=k[w])){for(q=w+2;!v&&q<t;v=k[q++]){}}for(q=w+1;v&&--q>=0;(k[q]=!k[q]-0)&&(v=0)){}}for(s=s-2<0?-1:s-3;++s<t&&!k[s];){}(e=d+1-s)>=c&&e<=o?++s:e<c&&(e!=d+1-t&&e<x&&this.warn("encodeFloat::float underflow"),s=d+1-(e=c-1));(p||m!==0)&&(this.warn(p?"encodeFloat::float overflow":"encodeFloat::"+m),e=o+1,s=d+2,m==-Infinity?u=1:isNaN(m)&&(k[s]=1));for(l=Math.abs(e+d),q=f+1,g="";--q;g=(l%2)+g,l=l>>=1){}for(l=0,q=0,s=(g=(u?"1":"0")+g+k.slice(s,s+y).join("")).length,h=[];s;l+=(1<<q)*g.charAt(--s),q==7&&(h[h.length]=l,l=0),q=(q+1)%8){}return(this.bigEndian?h.reverse():h)};PROTO.BinaryParser.prototype.encodeInt=function(d,e,b){var a=Math.pow(2,e),c=[];(d>=a||d<-(a>>1))&&this.warn("encodeInt::overflow")&&(d=0);d<0&&(d+=a);for(;d;c[c.length]=d%256,d=Math.floor(d/256)){}for(e=-(-e>>3)-c.length;e--;){}return(this.bigEndian?c.reverse():c)};(function(){var f=new ArrayBuffer(8);var d=new ArrayBuffer(4);var b=new DataView(f,0,8);var e=new DataView(d,0,4);var c=new Uint8Array(f);var a=new Uint8Array(d);PROTO.BinaryParser.prototype.encodeFloat32=function(g){e.setFloat32(0,g,true);return a};PROTO.BinaryParser.prototype.encodeFloat64=function(g){b.setFloat64(0,g,true);return c};PROTO.BinaryParser.prototype.decodeFloat32=function(j){var g=j.length;if(g>4){g=4}for(var h=0;h<g;++h){a[h]=j[h]}return e.getFloat32(0,true)};PROTO.BinaryParser.prototype.decodeFloat64=function(j){var g=j.length;if(g>8){g=8}for(var h=0;h<g;++h){c[h]=j[h]}return b.getFloat64(0,true)}})();PROTO.BinaryParser.prototype.decodeFloat=function(f,c,o){var m=new this.Buffer(this.bigEndian,f);PROTO.BinaryParser.prototype.checkBuffer.call(m,c+o+1);var g=Math.pow(2,o-1)-1,k=PROTO.BinaryParser.prototype.readBits.call(m,c+o,1);var l=PROTO.BinaryParser.prototype.readBits.call(m,c,o),j=0;var d=2;var a=m.buffer.length+(-c>>3)-1;var e,h,n;do{for(e=m.buffer[++a],h=c%8||8,n=1<<h;n>>=1;(e&n)&&(j+=1/d),d*=2){}}while((c-=h));return l==(g<<1)+1?j?NaN:k?-Infinity:+Infinity:(1+k*-2)*(l||j?!l?Math.pow(2,-g+1)*j:Math.pow(2,l-g)*(1+j):0)};PROTO.BinaryParser.prototype.decodeInt=function(g,f,e){var d=new this.Buffer(this.bigEndian,g),c=d.readBits(0,f),a=Math.pow(2,f);return e&&c>=a/2?c-a:c};PROTO.BinaryParser.prototype.Buffer=function(b,a){this.bigEndian=b||0;this.buffer=[];PROTO.BinaryParser.prototype.setBuffer.call(this,a)};PROTO.BinaryParser.prototype.readBits=function(b,d){function c(l,k){for(++k;--k;l=((l%=2147483647+1)&1073741824)==1073741824?l*2:(l-1073741824)*2+2147483647+1){}return l}if(b<0||d<=0){return 0}PROTO.BinaryParser.prototype.checkBuffer.call(this,b+d);for(var e,f=b%8,a=this.buffer.length-(b>>3)-1,j=this.buffer.length+(-(b+d)>>3),h=a-j,g=((this.buffer[a]>>f)&((1<<(h?8-f:d))-1))+(h&&(e=(b+d)%8)?(this.buffer[j++]&((1<<e)-1))<<(h--<<3)-f:0);h;g+=c(this.buffer[j++],(h--<<3)-f)){}return g};PROTO.BinaryParser.prototype.setBuffer=function(e){if(e){for(var c,d=c=e.length,a=this.buffer=new Array(c);d;a[c-d]=e[--d]){}this.bigEndian&&a.reverse()}};PROTO.BinaryParser.prototype.hasNeededBits=function(a){return this.buffer.length>=-(-a>>3)};PROTO.BinaryParser.prototype.checkBuffer=function(a){if(!PROTO.BinaryParser.prototype.hasNeededBits.call(this,a)){throw new Error("checkBuffer::missing bytes")}};PROTO.BinaryParser.prototype.warn=function(a){if(this.allowExceptions){throw new Error(a)}return 1};PROTO.BinaryParser.prototype.toSmall=function(a){return this.decodeInt(a,8,true)};PROTO.BinaryParser.prototype.fromSmall=function(a){return this.encodeInt(a,8,true)};PROTO.BinaryParser.prototype.toByte=function(a){return this.decodeInt(a,8,false)};PROTO.BinaryParser.prototype.fromByte=function(a){return this.encodeInt(a,8,false)};PROTO.BinaryParser.prototype.toShort=function(a){return this.decodeInt(a,16,true)};PROTO.BinaryParser.prototype.fromShort=function(a){return this.encodeInt(a,16,true)};PROTO.BinaryParser.prototype.toWord=function(a){return this.decodeInt(a,16,false)};PROTO.BinaryParser.prototype.fromWord=function(a){return this.encodeInt(a,16,false)};PROTO.BinaryParser.prototype.toInt=function(a){return this.decodeInt(a,32,true)};PROTO.BinaryParser.prototype.fromInt=function(a){return this.encodeInt(a,32,true)};PROTO.BinaryParser.prototype.toDWord=function(a){return this.decodeInt(a,32,false)};PROTO.BinaryParser.prototype.fromDWord=function(a){return this.encodeInt(a,32,false)};PROTO.BinaryParser.prototype.toFloat=typeof(Float32Array)!="undefined"?PROTO.BinaryParser.prototype.decodeFloat32:function(a){return this.decodeFloat(a,23,8)};PROTO.BinaryParser.prototype.fromFloat=typeof(Float32Array)!="undefined"?PROTO.BinaryParser.prototype.encodeFloat32:function(a){return this.encodeFloat(a,23,8)};PROTO.BinaryParser.prototype.toDouble=typeof(Float64Array)!="undefined"?PROTO.BinaryParser.prototype.decodeFloat64:function(a){return this.decodeFloat(a,52,11)};PROTO.BinaryParser.prototype.fromDouble=typeof(Float64Array)!="undefined"?PROTO.BinaryParser.prototype.encodeFloat64:function(a){return this.encodeFloat(a,52,11)};PROTO.binaryParser=new PROTO.BinaryParser(false,false);PROTO.encodeUTF8=function(e){var k=e.length;var j=[];var d,b;var h,g,f;for(var a=0;a<k;a++){d=e.charCodeAt(a);if((d&65408)==0){j.push(d)}else{if((d&64512)==55296){b=e.charCodeAt(a+1);if((b&64512)==56320){d=(((d&1023)<<10)|(b&1023))+65536;a++}else{PROTO.warn("Error decoding surrogate pair: "+d+"; "+b)}}h=d&255;g=d&65280;f=d&16711680;if(d<=2047){j.push(192|(g>>6)|(h>>6));j.push(128|(h&63))}else{if(d<=65535){j.push(224|(g>>12));j.push(128|((g>>6)&63)|(h>>6));j.push(128|(h&63))}else{if(d<=1114111){j.push(240|(f>>18));j.push(128|((f>>12)&63)|(g>>12));j.push(128|((g>>6)&63)|(h>>6));j.push(128|(h&63))}else{PROTO.warn("Error encoding to utf8: "+d+" is greater than U+10ffff");j.push("?".charCodeAt(0))}}}}}return j};PROTO.decodeUTF8=function(d){var g=d.length;var h="";var j,e,b,a;for(var f=0;f<g;f++){j=d[f];if((j&128)==0){}else{if((j&248)==240){e=d[f+1];b=d[f+2];a=d[f+3];if((e&192)==128&&(b&192)==128&&(a&192)==128){j=(j&7)<<18|(e&63)<<12|(b&63)<<6|(a&63);f+=3}else{PROTO.warn("Error decoding from utf8: "+j+","+e+","+b+","+a);continue}}else{if((j&240)==224){e=d[f+1];b=d[f+2];if((e&192)==128&&(b&192)==128){j=(j&15)<<12|(e&63)<<6|(b&63);f+=2}else{PROTO.warn("Error decoding from utf8: "+j+","+e+","+b);continue}}else{if((j&224)==192){e=d[f+1];if((e&192)==128){j=(j&31)<<6|(e&63);f+=1}else{PROTO.warn("Error decoding from utf8: "+j+","+e);continue}}else{PROTO.warn("Error decoding from utf8: "+j+" encountered not in multi-byte sequence");continue}}}}if(j<=65535){h+=String.fromCharCode(j)}else{if(j>65535&&j<=1114111){j-=65536;h+=(String.fromCharCode(55296|(j>>10))+String.fromCharCode(56320|(j&1023)))}else{PROTO.warn("Error encoding surrogate pair: "+j+" is greater than U+10ffff")}}}return h};PROTO.Stream=function(){this.write_pos_=0;this.read_pos_=0};PROTO.Stream.prototype={read:function(d){var a=[];for(var b=0;b<d;++b){var c=this.readByte();if(c===null){break}a.push(c)}return a},write:function(b){for(var a=0;a<b.length;a++){this.writeByte(b[a])}},readByte:function(){return null},writeByte:function(a){this.write_pos_+=1},readPosition:function(){return this.read_pos_},setReadPosition:function(a){this.read_pos_=a},writePosition:function(){return this.write_pos_},valid:function(){return false}};PROTO.ByteArrayStream=function(a){this.array_=a||new Array();this.read_pos_=0;this.write_pos_=this.array_.length};PROTO.ByteArrayStream.prototype=new PROTO.Stream();PROTO.ByteArrayStream.prototype.read=function(b){if(this.read_pos_+b>this.array_.length){return null}var a=this.array_.slice(this.read_pos_,this.read_pos_+b);this.read_pos_+=b;return a};PROTO.ByteArrayStream.prototype.write=function(a){Array.prototype.push.apply(this.array_,a);this.write_pos_=this.array_.length};PROTO.ByteArrayStream.prototype.readByte=function(){return this.array_[this.read_pos_++]};PROTO.ByteArrayStream.prototype.writeByte=function(a){this.array_.push(a);this.write_pos_=this.array_.length};PROTO.ByteArrayStream.prototype.valid=function(){return this.read_pos_<this.array_.length};PROTO.ByteArrayStream.prototype.getArray=function(){return this.array_};PROTO.Uint8ArrayStream=function(a){this.array_=a||new Uint8Array(4096);this.read_pos_=0;this.write_pos_=0};PROTO.Uint8ArrayStream.prototype._realloc=function(a){this.array_=new Uint8Array(Math.max(a,this.array_.length)+this.array_.length)};PROTO.Uint8ArrayStream.prototype.read=function(b){if(this.read_pos_+b>this.array_.length){return null}var a=this.array_.subarray(this.read_pos_,this.read_pos_+b);this.read_pos_+=b;return a};PROTO.Uint8ArrayStream.prototype.write=function(a){if(this.write_pos_+a.length>this.array_.length){this._realloc(this.write_pos_+a.length)}this.array_.set(a,this.write_pos_);this.write_pos_+=a.length};PROTO.Uint8ArrayStream.prototype.readByte=function(){return this.array_[this.read_pos_++]};PROTO.Uint8ArrayStream.prototype.writeByte=function(a){if(this.write_pos_>=this.array_.length){this._realloc(this.write_pos_+1)}this.array_[this.write_pos_++]=a};PROTO.Uint8ArrayStream.prototype.valid=function(){return this.read_pos_<this.array_.length};PROTO.Uint8ArrayStream.prototype.getArray=function(){return this.array_.subarray(0,this.write_pos_)};PROTO.CreateArrayStream=function(a){if(a instanceof Array){return new PROTO.ByteArrayStream(a)}else{return new PROTO.Uint8ArrayStream(a)}};(function(){var a=[62,-1,62,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,63,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];var b=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];var c=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","-","_"];PROTO.Base64Stream=function(d){this.alphabet=b;this.string_=d||"";this.read_pos_=0;this.read_incomplete_value_=0;this.read_needed_bits_=8;this.write_extra_bits_=0;this.write_incomplete_value_=0;this.fixString()};PROTO.Base64Stream.prototype=new PROTO.Stream();PROTO.Base64Stream.prototype.setURLSafe=function(){this.alphabet=c};PROTO.Base64Stream.prototype.fixString=function(){var d=this.string_.length;if(this.string_[d-1]=="="){var f=4;var e=2;if(this.string_[d-e]=="="){f=2;e=3}this.write_extra_bits_=f;this.write_incomplete_value_=a[this.string_.charCodeAt(d-e)-43];this.write_incomplete_value_>>=(6-f);this.string_=this.string_.substring(0,d-e)}};PROTO.Base64Stream.prototype.readByte=function(){var e;var f=this.read_needed_bits_;while(e===undefined||e==-1){if(this.read_pos_>=this.string_.length){if(this.valid()){e=this.write_incomplete_value_<<(6-f);this.read_pos_++;break}else{return null}}e=a[this.string_.charCodeAt(this.read_pos_++)-43]}if(f==8){this.read_incomplete_value_=e;this.read_needed_bits_=2;return this.readByte()}var d=this.read_incomplete_value_<<f;d|=e>>(6-f);this.read_incomplete_value_=e&((1<<(6-f))-1);this.read_needed_bits_+=2;return d};PROTO.Base64Stream.prototype.writeByte=function(d){this.write_extra_bits_+=2;var e=this.write_extra_bits_;this.string_+=this.alphabet[d>>e|this.write_incomplete_value_<<(8-e)];this.write_incomplete_value_=(d&((1<<e)-1));if(e==6){this.string_+=this.alphabet[this.write_incomplete_value_];this.write_extra_bits_=0;this.write_incomplete_value_=0}if(this.string_.length%77==76){this.string_+="\n"}};PROTO.Base64Stream.prototype.getString=function(){var d=this.string_.length;var e=this.string_;var f=this.write_extra_bits_;if(f>0){e+=this.alphabet[this.write_incomplete_value_<<(6-f)];if(f==2){e+="=="}else{if(f==4){e+="="}}}return e};PROTO.Base64Stream.prototype.valid=function(){return(this.read_pos_<this.string_.length)||(this.read_pos_==this.string_.length&&this.write_extra_bits_)}})();if(typeof(ArrayBuffer)!=="undefined"&&typeof(Uint8Array)!=="undefined"){PROTO.ArrayBufferStream=function(a,b){this.array_buffer_=a||new ArrayBuffer(1024);this.length_=b||0;this.array_=new Uint8Array(this.array_buffer_);this.read_pos=0};PROTO.ArrayBufferStream.prototype=new PROTO.Stream();PROTO.ArrayBufferStream.prototype._realloc=function(e){var b=this.array_;var c=this.length_;var f=b.length+e;this.array_buffer_=new ArrayBuffer(f);var d=new Uint8Array(this.array_buffer_);for(var a=0;a<c;a++){d[a]=b[a]}this.array_=d};PROTO.ArrayBufferStream.prototype.read=function(d){if(this.read_pos_+d>this.length_){return null}var a=this.array_.subarray(this.read_pos_,this.read_pos_+d);this.read_pos_+=d;var c=new Array(d);for(var b=0;b<d;b++){c[b]=a[b]}return c};PROTO.ArrayBufferStream.prototype.write=function(b){var d=0;var e=this.length_;if(this.length_+b.length>this.array_.length){this._realloc(this.length_+b.length)}this.length_+=b.length;var c=this.array_;var a=b.length;for(;d<a;d++,e++){c[e]=b[d]}};PROTO.ArrayBufferStream.prototype.readByte=function(){return this.array_[this.read_pos_++]};PROTO.ArrayBufferStream.prototype.writeByte=function(a){if(this.length_==this.array_.length){this._realloc(this.length_+1)}this.array_[this.length_++]=a};PROTO.ArrayBufferStream.prototype.valid=function(){return this.read_pos_<this.length_};PROTO.ArrayBufferStream.prototype.getArrayBuffer=function(){return this.array_buffer_};PROTO.ArrayBufferStream.prototype.length=function(){return this.length_};(function(){var b=false;var a=null;var g="slice";var h;try{h=new self.Blob([new ArrayBuffer(1)]);b=true}catch(d){a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;try{h=new a().getBlob()}catch(c){}}if(h&&(b||a)){if(h.webkitSlice){g="webkitSlice"}if(h.mozSlice){g="mozSlice"}PROTO.ArrayBufferStream.prototype.getBlob=function(){var f;if(b){f=new self.Blob([this.array_buffer_])}else{var e=new a();e.append(this.array_buffer_);f=e.getBlob()}return f[g](0,this.length_)}}}());PROTO.ArrayBufferStream.prototype.getUint8Array=function(){return new Uint8Array(this.array_buffer_,0,this.length_)}}PROTO.array=(function(){function a(e,c){this.datatype_=e.type();this.length=0;if(PROTO.IsArray(c)){for(var d=0;d<c.length;++d){this.push(c[d])}}}a.IsInitialized=function b(c){return c.length>0};a.prototype={};a.prototype.push=function(e){if(arguments.length===0){if(this.datatype_.composite){var d=new this.datatype_;this[this.length++]=d;return d}else{throw"Called add(undefined) for a non-composite"}}else{for(var c=0;c<arguments.length;c++){var d=this.datatype_.Convert(arguments[c]);if(this.datatype_.FromProto){d=this.datatype_.FromProto(d)}this[this.length++]=d}}return arguments[0]};a.prototype.set=function(c,d){d=this.datatype_.Convert(d);if(this.datatype_.FromProto){d=this.datatype_.FromProto(d)}if(c<this.length&&c>=0){this[c]=d}else{if(c==this.length){this[this.length++]=d}else{throw"Called ProtoArray.set with index "+c+" higher than length "+this.length}}return d};a.prototype.clear=function(c,d){this.length=0};return a})();PROTO.string={Convert:function(a){return""+a},wiretype:PROTO.wiretypes.lengthdelim,SerializeToStream:function(c,b){var a=PROTO.encodeUTF8(c);return PROTO.bytes.SerializeToStream(a,b)},ParseFromStream:function(b){var a=PROTO.bytes.ParseFromStream(b);return PROTO.decodeUTF8(a)},toString:function(a){return a}};PROTO.bytes={Convert:function(a){if(PROTO.IsArray(a)){return a}else{if(a instanceof PROTO.ByteArrayStream){return a.getArray()}else{if(a.SerializeToStream){var b=new PROTO.ByteArrayStream;a.SerializeToStream(b);return b.getArray()}else{throw"Not a Byte Array: "+a}}}},wiretype:PROTO.wiretypes.lengthdelim,SerializeToStream:function(a,b){PROTO.int32.SerializeToStream(a.length,b);b.write(a)},ParseFromStream:function(b){var a=PROTO.int32.ParseFromStream(b);return b.read(a)},toString:function(a){return"["+a+"]"}};(function(){function j(E,D,G){var F={Convert:E,wiretype:0,SerializeToStream:D,ParseFromStream:G,toString:function(H){return""+H}};return F}function o(D){if(D==NaN){throw"not a number: "+D}D=Math.round(D);if(D<0){throw"uint32/fixed32 does not allow negative: "+D}if(D>4294967295){throw"uint32/fixed32 out of bounds: "+D}return D}function m(D){if(D==NaN){throw"not a number: "+D}D=Math.round(D);if(D>2147483647||D<-2147483648){throw"sfixed32/[s]int32 out of bounds: "+D}return D}function p(G,F){if(G<0){G+=4294967296}var D=new Array(4);for(var E=0;E<4;E++){D[E]=G%256;G>>>=8}F.write(D)}function a(F){var G=0;var E=1;for(var D=0;D<4;D++){G+=E*F.readByte();E*=256}return G}function y(D){var E=a(D);if(E>2147483647){E-=4294967296}return E}function g(G,F){if(G<0){f(PROTO.I64.fromNumber(G),F);return}for(var D=0;D==0||(G&&D<5);D++){var E=G%128;G>>>=7;if(G){E+=128}F.writeByte(E)}}function A(E,D){if(E<0){E=-E*2-1}else{E=E*2}g(E,D)}function s(H){var I=0;var G=false;var F=1;for(var D=0;!G&&D<5;D++){var E=H.readByte();if(E===undefined){PROTO.warn("read undefined byte from stream: n is "+I);break}if(E<128){G=true}I+=F*(E&(D==4?15:127));F*=128}return I}var l=new PROTO.I64(0,0,1);function w(E){var F=PROTO.I64.parseLEVar128(E,l);var D=F.lsw;if(D>2147483647){D-=2147483647;D-=2147483647;D-=2}return D}function k(D){var E=s(D);if(E&1){return(E+1)/-2}return E/2}PROTO.sfixed32=j(m,p,a);PROTO.fixed32=j(o,p,y);PROTO.sfixed32.wiretype=PROTO.wiretypes.fixed32;PROTO.fixed32.wiretype=PROTO.wiretypes.fixed32;PROTO.int32=j(m,g,w);PROTO.sint32=j(m,A,k);PROTO.uint32=j(o,g,s);function e(D){if(D instanceof PROTO.I64){return D}throw"64-bit integers must be PROTO.I64 objects!"}function f(E,D){D.write(E.convertToUnsigned().serializeToLEVar128())}function z(E,D){D.write(E.convertFromUnsigned().convertToZigzag().serializeToLEVar128())}function d(E,D){D.write(E.convertToUnsigned().serializeToLEVar128())}function c(E,D){D.write(E.convertToUnsigned().serializeToLEBase256())}function n(E,D){D.write(E.serializeToLEBase256())}function C(D){return PROTO.I64.parseLEBase256(D,l).convertFromUnsigned()}function x(D){return PROTO.I64.parseLEBase256(D)}function h(D){return PROTO.I64.parseLEVar128(D,l).convertFromZigzag()}function v(D){return PROTO.I64.parseLEVar128(D,l).convertFromUnsigned()}function r(D){return PROTO.I64.parseLEVar128(D)}PROTO.sfixed64=j(e,c,C);PROTO.fixed64=j(e,n,x);PROTO.sfixed64.wiretype=PROTO.wiretypes.fixed64;PROTO.fixed64.wiretype=PROTO.wiretypes.fixed64;PROTO.int64=j(e,f,v);PROTO.sint64=j(e,z,h);PROTO.uint64=j(e,d,r);PROTO.bool=j(function(D){return D?true:false},g,s);function u(D){var E=parseFloat(D);if(E==NaN){throw"not a number: "+D}return E}function q(E,D){D.write(PROTO.binaryParser.fromFloat(E))}function B(E){var D=E.read(4);return PROTO.binaryParser.toFloat(D)}function t(E,D){D.write(PROTO.binaryParser.fromDouble(E))}function b(E){var D=E.read(8);return PROTO.binaryParser.toDouble(D)}PROTO.Float=j(u,q,B);PROTO.Double=j(u,t,b);PROTO.Float.wiretype=PROTO.wiretypes.fixed32;PROTO.Double.wiretype=PROTO.wiretypes.fixed64})();PROTO.mergeProperties=function(l,r,q){var s={};for(var p in l){s[l[p].id]=p}var b,f,o,c,a,m;var n={};while(r.valid()){b=PROTO.int32.ParseFromStream(r);f=b%8;b>>>=3;m=s[b];o=m&&l[m];c=o&&o.type();a=undefined;switch(f){case PROTO.wiretypes.varint:if(o&&c.wiretype==PROTO.wiretypes.varint){a=c.ParseFromStream(r)}else{PROTO.int64.ParseFromStream(r)}break;case PROTO.wiretypes.fixed64:if(o&&c.wiretype==PROTO.wiretypes.fixed64){a=c.ParseFromStream(r)}else{PROTO.fixed64.ParseFromStream(r)}break;case PROTO.wiretypes.lengthdelim:if(o){if(c.wiretype!=PROTO.wiretypes.lengthdelim){var k;if(c.cardinality>1){if(n[m]===undefined){n[m]=new Array()}k=n[m]}var e=PROTO.bytes.ParseFromStream(r);var h=PROTO.CreateArrayStream(e);for(var d=0;d<e.length&&h.valid();d++){var g=c.ParseFromStream(h);if(c.cardinality>1){k.push(g);if(k.length==c.cardinality){if(o.multiplicity==PROTO.repeated){q[m].push(k)}else{q[m]=c.Convert(k)}n[m]=new Array();k=n[m]}}else{q[m].push(g)}}}else{a=c.ParseFromStream(r);if(a==null){return false}}}else{PROTO.bytes.ParseFromStream(r)}break;case PROTO.wiretypes.fixed32:if(o&&c.wiretype==PROTO.wiretypes.fixed32){a=c.ParseFromStream(r)}else{PROTO.fixed32.ParseFromStream(r)}break;default:PROTO.warn("ERROR: Unknown type "+f+" for "+b);break}if(a!==undefined){if(q[m]===undefined&&c.cardinality>1){q[m]={}}if(c.cardinality>1){var k;if(n[m]===undefined){n[m]=new Array();k=n[m]}k.push(a);if(k.length==c.cardinality){if(o.multiplicity==PROTO.repeated){q[m].push(k)}else{k=c.Convert(k);if(!PROTO.DefineProperty&&c.FromProto){k=c.FromProto(k)}q[m]=k}n[m]=undefined}}else{if(o.multiplicity===PROTO.repeated){q[m].push(a)}else{a=c.Convert(a);if(!PROTO.DefineProperty&&c.FromProto){a=c.FromProto(a)}q[m]=a}}}}return true};PROTO.serializeTupleProperty=function(l,m,k){var b=l.id;var f=l.type().wiretype;var h=b*8+f;if(f!=PROTO.wiretypes.lengthdelim&&l.options.packed){var e=new Array();var g=new PROTO.ByteArrayStream(e);if(l.multiplicity==PROTO.repeated){for(var d=0;d<k.length;d++){var a=l.type().Convert(k[d]);for(var c=0;c<l.type().cardinality;++c){l.type().SerializeToStream(a[c],g)}}}else{var a=l.type().Convert(k);for(var c=0;c<l.type().cardinality;++c){l.type().SerializeToStream(a[c],g)}}h=b*8+PROTO.wiretypes.lengthdelim;PROTO.int32.SerializeToStream(h,m);PROTO.bytes.SerializeToStream(e,m)}else{if(l.multiplicity==PROTO.repeated){for(var d=0;d<k.length;d++){var a=l.type().Convert(k[d]);for(var c=0;c<l.type().cardinality;++c){PROTO.int32.SerializeToStream(h,m);l.type().SerializeToStream(a[c],m)}}}else{var a=l.type().Convert(k);for(var c=0;c<l.type().cardinality;++c){PROTO.int32.SerializeToStream(h,m);l.type().SerializeToStream(a[c],m)}}}};PROTO.serializeProperty=function(j,k,h){var b=j.id;if(!j.type()){return}if(j.type().cardinality>1){PROTO.serializeTupleProperty(j,k,h);return}var e=j.type().wiretype;var g=b*8+e;if(j.multiplicity==PROTO.repeated){if(e!=PROTO.wiretypes.lengthdelim&&j.options.packed){var d=new Array();var f=new PROTO.ByteArrayStream(d);for(var c=0;c<h.length;c++){var a=j.type().Convert(h[c]);j.type().SerializeToStream(a,f)}g=b*8+PROTO.wiretypes.lengthdelim;PROTO.int32.SerializeToStream(g,k);PROTO.bytes.SerializeToStream(d,k)}else{for(var c=0;c<h.length;c++){PROTO.int32.SerializeToStream(g,k);var a=j.type().Convert(h[c]);j.type().SerializeToStream(a,k)}}}else{PROTO.int32.SerializeToStream(g,k);var a=j.type().Convert(h);j.type().SerializeToStream(a,k)}};PROTO.Message=function(s,b){var p=function(){this.properties_=p.properties_;if(!PROTO.DefineProperty){this.values_=this}else{this.values_={}}this.Clear();this.message_type_=s};p.properties_={};for(var r in b){if(b[r].isType){p[r]=b[r]}else{p.properties_[r]=b[r]}}p.isType=true;p.composite=true;p.wiretype=PROTO.wiretypes.lengthdelim;p.IsInitialized=function(t){return t&&t.IsInitialized()};p.Convert=function q(t){if(!(t instanceof p)){throw"Value not instanceof "+s+": "+typeof(t)+" : "+t}return t};p.SerializeToStream=function(v,w){var t=new Array();var u=new PROTO.ByteArrayStream(t);v.SerializeToStream(u);return PROTO.bytes.SerializeToStream(t,w)};p.ParseFromStream=function(w){var t=PROTO.bytes.ParseFromStream(w);var v=PROTO.CreateArrayStream(t);var u=new p;u.ParseFromStream(v);return u};p.prototype={computeHasFields:function g(){var t={};for(var u in this.properties_){if(this.HasField(u)){t[u]=true}}return t},Clear:function o(){for(var t in this.properties_){this.ClearField(t)}},IsInitialized:function c(){var v=false;for(var t in this.properties_){v=true;if(this.values_[t]!==undefined){var u=this.properties_[t];if(!u.type()){continue}if(u.multiplicity==PROTO.repeated){if(PROTO.array.IsInitialized(this.values_[t])){return true}}else{if(!u.type().IsInitialized||u.type().IsInitialized(this.values_[t])){return true}}}}if(!v){return true}return false},ParseFromStream:function n(t){this.Clear();return this.MergeFromStream(t)},MergeFromStream:function e(t){return PROTO.mergeProperties(this.properties_,t,this.values_)},SerializeToStream:function l(w){var v=this.computeHasFields();for(var t in v){var u=this.values_[t];PROTO.serializeProperty(this.properties_[t],w,u)}},SerializeToArray:function(t){var u=new PROTO.ByteArrayStream(t);this.SerializeToStream(u);return u.getArray()},MergeFromArray:function(t){return this.MergeFromStream(PROTO.CreateArrayStream(t))},ParseFromArray:function(t){this.Clear();return this.MergeFromArray(t)},ClearField:function m(v){var u=this.properties_[v];if(u.multiplicity==PROTO.repeated){this.values_[v]=new PROTO.array(u)}else{var t=u.type();if(t&&t.composite){delete this.values_[v]}else{delete this.values_[v]}}},ListFields:function j(){var t=[];var v=this.computeHasFields();for(var u in v){t.push(u)}return t},GetField:function f(v){var t=this.values_[v];var u=this.properties_[v].type();if(t&&u.FromProto){return u.FromProto(t)}return t},SetField:function d(w,u){if(u===undefined||u===null){this.ClearField(w)}else{var v=this.properties_[w];if(v.multiplicity==PROTO.repeated){this.ClearField(w);for(var t=0;t<u.length;t++){this.values_[w].push(v.type().Convert(u[t]))}}else{this.values_[w]=v.type().Convert(u)}}},HasField:function h(u){if(this.values_[u]!==undefined){var t=this.properties_[u];if(!t.type()){return false}if(t.multiplicity==PROTO.repeated){return PROTO.array.IsInitialized(this.values_[u])}else{if(!t.type().IsInitialized||t.type().IsInitialized(this.values_[u])){return true}}}return false},formatValue:function(z,t,y,x){var w=t+y;var v=this.properties_[y].type();if(v.composite){w+=" "+x.toString(z+1)}else{if(typeof x=="string"){var u=x;u=u.replace('"','\\"').replace("\n","\\n").replace("\r","\\r");w+=': "'+u+'"\n'}else{if(v.FromProto){x=v.FromProto(x)}if(v.toString){var u=v.toString(x);w+=": "+u+"\n"}else{w+=": "+x+"\n"}}}return w},toString:function k(y){var u="";var w="";if(y){w="{\n";for(var v=0;v<y*2;v++){u+=" "}}else{y=0}for(var x in this.properties_){if(!this.properties_[x].type()){continue}if(!this.HasField(x)){continue}if(this.properties_[x].multiplicity==PROTO.repeated){var t=this.values_[x];for(var v=0;v<t.length;v++){w+=this.formatValue(y,u,x,t[v])}}else{w+=this.formatValue(y,u,x,this.values_[x])}}if(y){w+="}\n"}return w}};if(PROTO.DefineProperty!==undefined){for(var a in p.properties_){(function(v){PROTO.DefineProperty(p.prototype,v,function t(){return this.GetField(v)},function u(w){this.SetField(v,w)})})(a)}}return p};PROTO.Enum=function(c,b,g){if(!g){g=32}var f={};var a={};a.isType=true;for(var d in b){f[b[d]]=d;a[d]=b[d];a[b[d]]=d}a.values=b;a.reverseValues=f;a.Convert=function e(j){if(typeof j=="number"){return j}if(b[j]!==undefined){return b[j]}throw"Not a valid "+c+" enumeration value: "+j};a.toString=function h(j){if(f[j]){return f[j]}return""+j};a.ParseFromStream=function(k,j){var l=PROTO.int32.ParseFromStream(k,j);return l};a.SerializeToStream=function(k,j){return PROTO.int32.SerializeToStream(k,j)};a.wiretype=PROTO.wiretypes.varint;return a};PROTO.Flags=function(c,b,a){return PROTO.Enum(b,a,c)};PROTO.Extend=function(b,c){for(var a in c){b.properties_[a]=c[a]}return b};if(typeof(self.console)=="undefined"){self.console={}}if(typeof(self.console.log)=="undefined"){self.console.log=function(a){if(document&&document.body){document.body.appendChild(document.createTextNode(a+"..."))}}};